<!doctype html><html lang=en-us><head><meta charset=UTF-8><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=X-UA-Compatible content="ie=edge"><meta name=robots content="index, follow"><meta name=author content><meta name=description content="Read/Write files in GoLang."><link rel=author type=text/plain href=/humans.txt><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=manifest href=/site.webmanifest><meta name=msapplication-TileImage content="/mstile-144x144.png"><meta name=theme-color content="#494f5c"><meta name=msapplication-TileColor content="#494f5c"><link rel=mask-icon href=/safari-pinned-tab.svg color=#494f5c><meta itemprop=name content="Read/Write files in GoLang"><meta itemprop=description content="Read/Write files in GoLang."><meta itemprop=datePublished content="2015-06-27T00:00:00+00:00"><meta itemprop=dateModified content="2015-06-27T00:00:00+00:00"><meta itemprop=wordCount content="394"><meta itemprop=keywords content="Development,GoLang"><meta property="og:url" content="https://mfahim.github.io/posts/read/write-files-in-golang/"><meta property="og:site_name" content="Notes to Myself on Software Development"><meta property="og:title" content="Read/Write files in GoLang"><meta property="og:description" content="Read/Write files in GoLang."><meta property="og:locale" content="en_us"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2015-06-27T00:00:00+00:00"><meta property="article:modified_time" content="2015-06-27T00:00:00+00:00"><meta property="article:tag" content="Go"><meta property="article:tag" content="Read to and Write From Files"><meta property="article:tag" content="Language"><meta name=twitter:card content="summary"><meta name=twitter:title content="Read/Write files in GoLang"><meta name=twitter:description content="Read/Write files in GoLang."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Read/Write files in GoLang","name":"Read\/Write files in GoLang","description":"Read/Write files in GoLang.","keywords":["Development","GoLang"],"articleBody":"When dealing with files in Go, ‘os’ and ‘ioutil’ built-in packages provide some utility functions to work with I/O.\n‘os’ package\rOpening a file\nThe most simple approach can be done through “os” package. The error handling is Go-like; failing calls return values of type error rather than error numbers.\nfile, err := os.Open(\"data.csv\") // read access if err != nil { panic(fmt.Sprintf(\"an error occured in reading the file: {%s}\", \"data\")) } defer file.Close() // file.Close will run when we're finished. The preferred approach after opening any file is safe closing that file. Go has a modern way of doing this by calling ‘defer’ statement. It’s perfect for situations when resources must be release regardless of which path a function takes to return. For example, in opening multiple files; defer guarantees that all resources will be safely released if any error occurred during opening one the files.\nReading from a file\nIn order to show the file’s content, I created a buffer to keep the chunks that I read and iterate over that to show the content.\ndata := make([]byte, 1024) // make a buffer count, err := file.Read(data) if err != nil \u0026\u0026 err != io.EOF { panic(fmt.Sprintf(\"an error occured in reading the file: {%s}\", \"data\")) } for i := 0; i \u003c count; i++ { fmt.Print(string(data[i])) } ‘bufio’ package\r‘bufio’ provides buffering under the hood and makes really when we’re working with lots of reads and writes, specially for text files. ‘NewReader’ returns a reader whose buffer has default size. For example for reading a file the code looks like below.\nreader := bufio.NewReader(file) // make a read buffer data := make([]byte, 1024) count, err := reader.Read(data) // read a chunk if err != nil \u0026\u0026 err != io.EOF { panic(fmt.Sprintf(\"an error occured in reading the file: {%s}\", \"data\")) } for i := 0; i \u003c count; i++ { fmt.Print(string(data[i])) } Writing to a file\nThree methods Write(p byte[]), WriteByte(c byte), WriteString(s string) are all write some content into the buffer.\n// open output file output, err := os.Create(\"output.txt\") if err != nil { panic(fmt.Sprintf(\"an error occured in creating the file: {%s}\", \"output\")) } for i := 0; i \u003c count; i++ { n2, err := output.Write(data[:i]) if err != nil { panic(err) } } ‘bufio’ package\rLikewise reading from file, ‘bufio’ provides some methods when writing a buffer to a file.\n","wordCount":"394","inLanguage":"en","datePublished":"2015-06-27T00:00:00Z","dateModified":"2015-06-27T00:00:00Z","author":{"@type":"Person","name":null},"mainEntityOfPage":{"@type":"WebPage","@id":"https://mfahim.github.io/posts/read/write-files-in-golang/"},"publisher":{"@type":"Organization","name":"Notes to Myself on Software Development","description":"","logo":{"@type":"ImageObject","url":"https://mfahim.github.io/favicon.ico"}}}</script><title>Read/Write files in GoLang</title>
<link rel="stylesheet dns-prefetch preconnect preload prefetch" as=style href=https://mfahim.github.io/css/style.min.d3facc2d5fe42af72ee5a80584900a45ffee6035df0ef582bd8696c2fe0c9da5.css integrity="sha256-0/rMLV/kKvcu5agFhJAKRf/uYDXfDvWCvYaWwv4MnaU=" crossorigin=anonymous></head><body id=page><header id=site-header><div class="hdr-wrapper section-inner"><div class=hdr-left><div class=site-branding><a href=https://mfahim.github.io/>Notes to Myself on Software Development</a></div><nav class="site-nav hide-in-mobile"><a href=https://mfahim.github.io/posts/>Posts</a><a href=https://mfahim.github.io/about/>About</a></nav></div><div class="hdr-right hdr-icons"><button id=menu-btn class=hdr-btn title><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"><line x1="3" y1="12" x2="21" y2="12"/><line x1="3" y1="6" x2="21" y2="6"/><line x1="3" y1="18" x2="21" y2="18"/></svg></button></div></div></header><div id=mobile-menu class="animated fast"><ul><li><a href=https://mfahim.github.io/posts/>Posts</a></li><li><a href=https://mfahim.github.io/about/>About</a></li></ul></div><main class="site-main section-inner animated fadeIn faster"><article class=thin><header class=post-header><div class=post-date><span>Jun 27, 2015</span></div><h1>Read/Write files in GoLang</h1></header><div class=post-description><p>Read/Write files in GoLang.</p><p><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-tag meta-icon"><path d="M20.59 13.41l-7.17 7.17a2 2 0 01-2.83.0L2 12V2h10l8.59 8.59a2 2 0 010 2.82z"/><line x1="7" y1="7" x2="7" y2="7"/></svg><span class=tag><a href=https://mfahim.github.io/tags/go>Go</a></span><span class=tag><a href=https://mfahim.github.io/tags/read-to-and-write-from-files>Read to and Write from files</a></span><span class=tag><a href=https://mfahim.github.io/tags/language>Language</a></span></p><p><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file-text"><path d="M14 2H6A2 2 0 004 4v16a2 2 0 002 2h12a2 2 0 002-2V8z"/><polyline points="14 2 14 8 20 8"/><line x1="16" y1="13" x2="8" y2="13"/><line x1="16" y1="17" x2="8" y2="17"/><polyline points="10 9 9 9 8 9"/></svg>394Words</p><p><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-calendar"><rect x="3" y="4" width="18" height="18" rx="2" ry="2"/><line x1="16" y1="2" x2="16" y2="6"/><line x1="8" y1="2" x2="8" y2="6"/><line x1="3" y1="10" x2="21" y2="10"/></svg>2015-06-27 10:00 +1000</p></div><hr class=post-end><div class=content><p>When dealing with files in Go, &lsquo;os&rsquo; and &lsquo;ioutil&rsquo; built-in packages provide some utility functions to work with I/O.</p><h2 id=os-package>&lsquo;os&rsquo; package<a href=#os-package class=anchor aria-hidden=true><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 7h3a5 5 0 015 5 5 5 0 01-5 5h-3m-6 0H6a5 5 0 01-5-5 5 5 0 015-5h3"/><line x1="8" y1="12" x2="16" y2="12"/></svg></a></h2><p><strong>Opening a file</strong></p><p>The most simple approach can be done through &ldquo;os&rdquo; package. The error handling is Go-like; failing calls return values of type error rather than error numbers.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl>
</span></span><span class=line><span class=cl>   <span class=nx>file</span><span class=p>,</span> <span class=nx>err</span> <span class=o>:=</span> <span class=nx>os</span><span class=p>.</span><span class=nf>Open</span><span class=p>(</span><span class=s>&#34;data.csv&#34;</span><span class=p>)</span> <span class=c1>// read access
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl>   <span class=k>if</span> <span class=nx>err</span> <span class=o>!=</span> <span class=kc>nil</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=nb>panic</span><span class=p>(</span><span class=nx>fmt</span><span class=p>.</span><span class=nf>Sprintf</span><span class=p>(</span><span class=s>&#34;an error occured in reading the file: {%s}&#34;</span><span class=p>,</span> <span class=s>&#34;data&#34;</span><span class=p>))</span>
</span></span><span class=line><span class=cl>   <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>   <span class=k>defer</span> <span class=nx>file</span><span class=p>.</span><span class=nf>Close</span><span class=p>()</span> <span class=c1>// file.Close will run when we&#39;re finished.
</span></span></span></code></pre></div><p>The preferred approach after opening any file is safe closing that file. Go has a modern way of doing this by calling &lsquo;defer&rsquo; statement. It&rsquo;s perfect for situations when resources must be release regardless of which path a function takes to return. For example, in opening multiple files; defer guarantees that all resources will be safely released if any error occurred during opening one the files.</p><p><strong>Reading from a file</strong></p><p>In order to show the file&rsquo;s content, I created a buffer to keep the chunks that I read and iterate over that to show the content.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl>
</span></span><span class=line><span class=cl>	<span class=nx>data</span> <span class=o>:=</span> <span class=nb>make</span><span class=p>([]</span><span class=kt>byte</span><span class=p>,</span> <span class=mi>1024</span><span class=p>)</span> <span class=c1>// make a buffer 
</span></span></span><span class=line><span class=cl><span class=c1></span>	
</span></span><span class=line><span class=cl>	<span class=nx>count</span><span class=p>,</span> <span class=nx>err</span> <span class=o>:=</span> <span class=nx>file</span><span class=p>.</span><span class=nf>Read</span><span class=p>(</span><span class=nx>data</span><span class=p>)</span>
</span></span><span class=line><span class=cl>	 <span class=k>if</span> <span class=nx>err</span> <span class=o>!=</span> <span class=kc>nil</span> <span class=o>&amp;&amp;</span> <span class=nx>err</span> <span class=o>!=</span> <span class=nx>io</span><span class=p>.</span><span class=nx>EOF</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>	<span class=nb>panic</span><span class=p>(</span><span class=nx>fmt</span><span class=p>.</span><span class=nf>Sprintf</span><span class=p>(</span><span class=s>&#34;an error occured in reading the file: {%s}&#34;</span><span class=p>,</span> <span class=s>&#34;data&#34;</span><span class=p>))</span>
</span></span><span class=line><span class=cl>	<span class=p>}</span>
</span></span><span class=line><span class=cl>	
</span></span><span class=line><span class=cl>	<span class=k>for</span> <span class=nx>i</span> <span class=o>:=</span> <span class=mi>0</span><span class=p>;</span> <span class=nx>i</span> <span class=p>&lt;</span> <span class=nx>count</span><span class=p>;</span> <span class=nx>i</span><span class=o>++</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>	  <span class=nx>fmt</span><span class=p>.</span><span class=nf>Print</span><span class=p>(</span><span class=nb>string</span><span class=p>(</span><span class=nx>data</span><span class=p>[</span><span class=nx>i</span><span class=p>]))</span>
</span></span><span class=line><span class=cl>	<span class=p>}</span>
</span></span></code></pre></div><h2 id=bufio-package>&lsquo;bufio&rsquo; package<a href=#bufio-package class=anchor aria-hidden=true><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 7h3a5 5 0 015 5 5 5 0 01-5 5h-3m-6 0H6a5 5 0 01-5-5 5 5 0 015-5h3"/><line x1="8" y1="12" x2="16" y2="12"/></svg></a></h2><p>&lsquo;bufio&rsquo; provides buffering under the hood and makes really when we&rsquo;re working with lots of reads and writes, specially for text files.
&lsquo;NewReader&rsquo; returns a reader whose buffer has default size. For example for reading a file the code looks like below.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-golang data-lang=golang><span class=line><span class=cl>
</span></span><span class=line><span class=cl>	<span class=nx>reader</span> <span class=o>:=</span> <span class=nx>bufio</span><span class=p>.</span><span class=nf>NewReader</span><span class=p>(</span><span class=nx>file</span><span class=p>)</span> <span class=c1>// make a read buffer
</span></span></span><span class=line><span class=cl><span class=c1></span>	
</span></span><span class=line><span class=cl>	<span class=nx>data</span> <span class=o>:=</span> <span class=nb>make</span><span class=p>([]</span><span class=kt>byte</span><span class=p>,</span> <span class=mi>1024</span><span class=p>)</span>
</span></span><span class=line><span class=cl>	<span class=nx>count</span><span class=p>,</span> <span class=nx>err</span> <span class=o>:=</span> <span class=nx>reader</span><span class=p>.</span><span class=nf>Read</span><span class=p>(</span><span class=nx>data</span><span class=p>)</span> <span class=c1>// read a chunk
</span></span></span><span class=line><span class=cl><span class=c1></span>	
</span></span><span class=line><span class=cl>	<span class=k>if</span> <span class=nx>err</span> <span class=o>!=</span> <span class=kc>nil</span> <span class=o>&amp;&amp;</span> <span class=nx>err</span> <span class=o>!=</span> <span class=nx>io</span><span class=p>.</span><span class=nx>EOF</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>		<span class=nb>panic</span><span class=p>(</span><span class=nx>fmt</span><span class=p>.</span><span class=nf>Sprintf</span><span class=p>(</span><span class=s>&#34;an error occured in reading the file: {%s}&#34;</span><span class=p>,</span> <span class=s>&#34;data&#34;</span><span class=p>))</span>
</span></span><span class=line><span class=cl>	<span class=p>}</span>
</span></span><span class=line><span class=cl>	
</span></span><span class=line><span class=cl>	<span class=k>for</span> <span class=nx>i</span> <span class=o>:=</span> <span class=mi>0</span><span class=p>;</span> <span class=nx>i</span> <span class=p>&lt;</span> <span class=nx>count</span><span class=p>;</span> <span class=nx>i</span><span class=o>++</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>		<span class=nx>fmt</span><span class=p>.</span><span class=nf>Print</span><span class=p>(</span><span class=nb>string</span><span class=p>(</span><span class=nx>data</span><span class=p>[</span><span class=nx>i</span><span class=p>]))</span>
</span></span><span class=line><span class=cl>	<span class=p>}</span>
</span></span></code></pre></div><p><strong>Writing to a file</strong></p><p>Three methods Write(p byte[]), WriteByte(c byte), WriteString(s string) are all write some content into the buffer.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-Go data-lang=Go><span class=line><span class=cl>
</span></span><span class=line><span class=cl>	<span class=c1>// open output file
</span></span></span><span class=line><span class=cl><span class=c1></span>	<span class=nx>output</span><span class=p>,</span> <span class=nx>err</span> <span class=o>:=</span> <span class=nx>os</span><span class=p>.</span><span class=nf>Create</span><span class=p>(</span><span class=s>&#34;output.txt&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>	
</span></span><span class=line><span class=cl>	<span class=k>if</span> <span class=nx>err</span> <span class=o>!=</span> <span class=kc>nil</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>		<span class=nb>panic</span><span class=p>(</span><span class=nx>fmt</span><span class=p>.</span><span class=nf>Sprintf</span><span class=p>(</span><span class=s>&#34;an error occured in creating the file: {%s}&#34;</span><span class=p>,</span> <span class=s>&#34;output&#34;</span><span class=p>))</span>
</span></span><span class=line><span class=cl>	<span class=p>}</span>
</span></span><span class=line><span class=cl>	
</span></span><span class=line><span class=cl>	<span class=k>for</span> <span class=nx>i</span> <span class=o>:=</span> <span class=mi>0</span><span class=p>;</span> <span class=nx>i</span> <span class=p>&lt;</span> <span class=nx>count</span><span class=p>;</span> <span class=nx>i</span><span class=o>++</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>		<span class=nx>n2</span><span class=p>,</span> <span class=nx>err</span> <span class=o>:=</span> <span class=nx>output</span><span class=p>.</span><span class=nf>Write</span><span class=p>(</span><span class=nx>data</span><span class=p>[:</span><span class=nx>i</span><span class=p>])</span>
</span></span><span class=line><span class=cl>		<span class=k>if</span> <span class=nx>err</span> <span class=o>!=</span> <span class=kc>nil</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>			<span class=nb>panic</span><span class=p>(</span><span class=nx>err</span><span class=p>)</span>
</span></span><span class=line><span class=cl>		<span class=p>}</span>
</span></span><span class=line><span class=cl>	<span class=p>}</span>
</span></span><span class=line><span class=cl>    
</span></span></code></pre></div><h2 id=bufio-package-1>&lsquo;bufio&rsquo; package<a href=#bufio-package-1 class=anchor aria-hidden=true><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 7h3a5 5 0 015 5 5 5 0 01-5 5h-3m-6 0H6a5 5 0 01-5-5 5 5 0 015-5h3"/><line x1="8" y1="12" x2="16" y2="12"/></svg></a></h2><p>Likewise reading from file, &lsquo;bufio&rsquo; provides some methods when writing a buffer to a file.</p></div></article><div class="post-nav thin"><a class=next-post href=https://mfahim.github.io/posts/about-visual-studio-2015/><span class=post-nav-label><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-arrow-left"><line x1="19" y1="12" x2="5" y2="12"/><polyline points="12 19 5 12 12 5"/></svg>&nbsp;Newer</span><br><span>About Visual Studio 2015</span>
</a><a class=prev-post href=https://mfahim.github.io/posts/no-cms-movement/><span class=post-nav-label>Older&nbsp;<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-arrow-right"><line x1="5" y1="12" x2="19" y2="12"/><polyline points="12 5 19 12 12 19"/></svg></span><br><span>No CMS Movement</span></a></div><div id=comments class=thin></div></main><footer id=site-footer class="section-inner thin animated fadeIn faster"><p>&copy; 2025 <a href=https://mfahim.github.io/>Notes to Myself on Software Development</a>
&#183; &#183; <a href=https://creativecommons.org/licenses/by-nc/4.0/ target=_blank rel=noopener></a>&#183; Made with <a href=https://gohugo.io/ target=_blank rel=noopener>Hugo</a>
&#183; Theme <a href=https://github.com/1bl4z3r/hermit-V2 target=_blank rel=noopener>Hermit-V2</a></p></footer><script async src=https://mfahim.github.io/js/bundle.min.c7c384e4d29d192bbac6811ae4660bb01767194a5bea56baca77e8260f93ea16.js integrity="sha256-x8OE5NKdGSu6xoEa5GYLsBdnGUpb6la6ynfoJg+T6hY=" crossorigin=anonymous></script></body></html>/www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-arrow-right"><line x1="5" y1="12" x2="19" y2="12"/><polyline points="12 5 19 12 12 19"/></svg></span><br><span>About Visual Studio 2015</span></a></div><div id=comments class=thin></div></main><footer id=site-footer class="section-inner thin animated fadeIn faster"><p>&copy; 2025 <a href=https://mfahim.github.io/>Notes to Myself on Software Development</a>
&#183; &#183; <a href=https://creativecommons.org/licenses/by-nc/4.0/ target=_blank rel=noopener></a>&#183; Made with <a href=https://gohugo.io/ target=_blank rel=noopener>Hugo</a>
&#183; Theme <a href=https://github.com/1bl4z3r/hermit-V2 target=_blank rel=noopener>Hermit-V2</a></p></footer><script async src=https://mfahim.github.io/js/bundle.min.c7c384e4d29d192bbac6811ae4660bb01767194a5bea56baca77e8260f93ea16.js integrity="sha256-x8OE5NKdGSu6xoEa5GYLsBdnGUpb6la6ynfoJg+T6hY=" crossorigin=anonymous></script></body></html>