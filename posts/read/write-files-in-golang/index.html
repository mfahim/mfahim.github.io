<!doctype html><html lang=en-us><head><meta charset=UTF-8><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=X-UA-Compatible content="ie=edge"><meta name=robots content="index, follow"><meta name=author content><meta name=description content="Read/Write files in GoLang."><link rel=author type=text/plain href=/humans.txt><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=manifest href=/site.webmanifest><meta name=msapplication-TileImage content="/mstile-144x144.png"><meta name=theme-color content="#494f5c"><meta name=msapplication-TileColor content="#494f5c"><link rel=mask-icon href=/safari-pinned-tab.svg color=#494f5c><meta itemprop=name content="Loops And Iterations in GoLang"><meta itemprop=description content="Read/Write files in GoLang."><meta itemprop=datePublished content="2015-08-01T00:00:00+00:00"><meta itemprop=dateModified content="2015-08-01T00:00:00+00:00"><meta itemprop=wordCount content="346"><meta itemprop=keywords content="Development,GoLang"><meta property="og:url" content="https://mfahim.github.io/posts/read/write-files-in-golang/"><meta property="og:site_name" content="Notes to Myself on Software Development"><meta property="og:title" content="Loops And Iterations in GoLang"><meta property="og:description" content="Read/Write files in GoLang."><meta property="og:locale" content="en_us"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2015-08-01T00:00:00+00:00"><meta property="article:modified_time" content="2015-08-01T00:00:00+00:00"><meta property="article:tag" content="Go"><meta property="article:tag" content="Language"><meta name=twitter:card content="summary"><meta name=twitter:title content="Loops And Iterations in GoLang"><meta name=twitter:description content="Read/Write files in GoLang."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Loops And Iterations in GoLang","name":"Loops And Iterations in GoLang","description":"Read/Write files in GoLang.","keywords":["Development","GoLang"],"articleBody":"Like any other language Go has its way of doing things such as for, while,\n‘os’ package\rFor loop\nThe most simple approach can be done through “os” package. The error handling is Go-like; failing calls return values of type error rather than error numbers.\n// map var mapCol = make(map[int]string) mapCol[1] = \"Hellp\" mapCol[2] = \"me\" fmt.Println(mapCol) `` The preferred approach after opening any file is safe closing that file. Go has a modern way of doing this by calling 'defer' statement. It's perfect for situations when resources must be release regardless of which path a function takes to return. For example, in opening multiple files; defer guarantees that all resources will be safely released if any error occurred during opening one the files. **While loop** In order to show the file's content, I created a buffer to keep the chunks that I read and iterate over that to show the content. ```go var arrStr [3]int arrStr[0] = 10 arrStr[1] = 12 slicer := arrStr[1:] slicer = append(slicer, 23) fmt.Println(slicer) ‘bufio’ package\r‘bufio’ provides buffering under the hood and makes really when we’re working with lots of reads and writes, specially for text files. ‘NewReader’ returns a reader whose buffer has default size. For example for reading a file the code looks like below.\nreader := bufio.NewReader(file) // make a read buffer data := make([]byte, 1024) count, err := reader.Read(data) // read a chunk if err != nil \u0026\u0026 err != io.EOF { panic(fmt.Sprintf(\"an error occured in reading the file: {%s}\", \"data\")) } for i := 0; i \u003c count; i++ { fmt.Print(string(data[i])) } Writing to a file\nThree methods Write(p byte[]), WriteByte(c byte), WriteString(s string) are all write some content into the buffer.\n// open output file output, err := os.Create(\"output.txt\") if err != nil { panic(fmt.Sprintf(\"an error occured in creating the file: {%s}\", \"output\")) } for i := 0; i \u003c count; i++ { n2, err := output.Write(data[:i]) if err != nil { panic(err) } } ‘bufio’ package\rLikewise reading from file, ‘bufio’ provides some methods when writing a buffer to a file.\n","wordCount":"346","inLanguage":"en","datePublished":"2015-08-01T00:00:00Z","dateModified":"2015-08-01T00:00:00Z","author":{"@type":"Person","name":null},"mainEntityOfPage":{"@type":"WebPage","@id":"https://mfahim.github.io/posts/read/write-files-in-golang/"},"publisher":{"@type":"Organization","name":"Notes to Myself on Software Development","description":"","logo":{"@type":"ImageObject","url":"https://mfahim.github.io/favicon.ico"}}}</script><title>Loops And Iterations in GoLang</title>
<link rel="stylesheet dns-prefetch preconnect preload prefetch" as=style href=https://mfahim.github.io/css/style.min.d3facc2d5fe42af72ee5a80584900a45ffee6035df0ef582bd8696c2fe0c9da5.css integrity="sha256-0/rMLV/kKvcu5agFhJAKRf/uYDXfDvWCvYaWwv4MnaU=" crossorigin=anonymous></head><body id=page><header id=site-header><div class="hdr-wrapper section-inner"><div class=hdr-left><div class=site-branding><a href=https://mfahim.github.io/>Notes to Myself on Software Development</a></div><nav class="site-nav hide-in-mobile"><a href=https://mfahim.github.io/posts/>Posts</a><a href=https://mfahim.github.io/about/>About</a></nav></div><div class="hdr-right hdr-icons"><button id=menu-btn class=hdr-btn title><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"><line x1="3" y1="12" x2="21" y2="12"/><line x1="3" y1="6" x2="21" y2="6"/><line x1="3" y1="18" x2="21" y2="18"/></svg></button></div></div></header><div id=mobile-menu class="animated fast"><ul><li><a href=https://mfahim.github.io/posts/>Posts</a></li><li><a href=https://mfahim.github.io/about/>About</a></li></ul></div><main class="site-main section-inner animated fadeIn faster"><article class=thin><header class=post-header><div class=post-date><span>Aug 1, 2015</span></div><h1>Loops And Iterations in GoLang</h1></header><div class=post-description><p>Read/Write files in GoLang.</p><p><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-tag meta-icon"><path d="M20.59 13.41l-7.17 7.17a2 2 0 01-2.83.0L2 12V2h10l8.59 8.59a2 2 0 010 2.82z"/><line x1="7" y1="7" x2="7" y2="7"/></svg><span class=tag><a href=https://mfahim.github.io/tags/go>Go</a></span><span class=tag><a href=https://mfahim.github.io/tags/language>Language</a></span></p><p><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file-text"><path d="M14 2H6A2 2 0 004 4v16a2 2 0 002 2h12a2 2 0 002-2V8z"/><polyline points="14 2 14 8 20 8"/><line x1="16" y1="13" x2="8" y2="13"/><line x1="16" y1="17" x2="8" y2="17"/><polyline points="10 9 9 9 8 9"/></svg>346Words</p><p><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-calendar"><rect x="3" y="4" width="18" height="18" rx="2" ry="2"/><line x1="16" y1="2" x2="16" y2="6"/><line x1="8" y1="2" x2="8" y2="6"/><line x1="3" y1="10" x2="21" y2="10"/></svg>2015-08-01 10:00 +1000</p></div><hr class=post-end><div class=content><p>Like any other language Go has its way of doing things such as for, while,</p><h2 id=os-package>&lsquo;os&rsquo; package<a href=#os-package class=anchor aria-hidden=true><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 7h3a5 5 0 015 5 5 5 0 01-5 5h-3m-6 0H6a5 5 0 01-5-5 5 5 0 015-5h3"/><line x1="8" y1="12" x2="16" y2="12"/></svg></a></h2><p><strong>For loop</strong></p><p>The most simple approach can be done through &ldquo;os&rdquo; package. The error handling is Go-like; failing calls return values of type error rather than error numbers.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl>
</span></span><span class=line><span class=cl>	<span class=c1>// map
</span></span></span><span class=line><span class=cl><span class=c1></span>	<span class=kd>var</span> <span class=nx>mapCol</span> <span class=p>=</span> <span class=nb>make</span><span class=p>(</span><span class=kd>map</span><span class=p>[</span><span class=kt>int</span><span class=p>]</span><span class=kt>string</span><span class=p>)</span>
</span></span><span class=line><span class=cl>	<span class=nx>mapCol</span><span class=p>[</span><span class=mi>1</span><span class=p>]</span> <span class=p>=</span> <span class=s>&#34;Hellp&#34;</span>
</span></span><span class=line><span class=cl>	<span class=nx>mapCol</span><span class=p>[</span><span class=mi>2</span><span class=p>]</span> <span class=p>=</span> <span class=s>&#34;me&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>	<span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=nx>mapCol</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=s>``</span>
</span></span><span class=line><span class=cl><span class=nx>The</span> <span class=nx>preferred</span> <span class=nx>approach</span> <span class=nx>after</span> <span class=nx>opening</span> <span class=nx>any</span> <span class=nx>file</span> <span class=nx>is</span> <span class=nx>safe</span> <span class=nx>closing</span> <span class=nx>that</span> <span class=nx>file</span><span class=p>.</span> <span class=nx>Go</span> <span class=nx>has</span> <span class=nx>a</span> <span class=nx>modern</span> <span class=nx>way</span> <span class=nx>of</span> <span class=nx>doing</span> <span class=nx>this</span> <span class=nx>by</span> <span class=nx>calling</span> <span class=err>&#39;</span><span class=k>defer</span><span class=err>&#39;</span> <span class=nx>statement</span><span class=p>.</span> <span class=nx>It</span><span class=err>&#39;</span><span class=nx>s</span> <span class=nx>perfect</span> <span class=k>for</span> <span class=nx>situations</span> <span class=nx>when</span> <span class=nx>resources</span> <span class=nx>must</span> <span class=nx>be</span> <span class=nx>release</span> <span class=nx>regardless</span> <span class=nx>of</span> <span class=nx>which</span> <span class=nx>path</span> <span class=nx>a</span> <span class=nx>function</span> <span class=nx>takes</span> <span class=nx>to</span> <span class=k>return</span><span class=p>.</span> <span class=nx>For</span> <span class=nx>example</span><span class=p>,</span> <span class=nx>in</span> <span class=nx>opening</span> <span class=nx>multiple</span> <span class=nx>files</span><span class=p>;</span> <span class=k>defer</span> <span class=nx>guarantees</span> <span class=nx>that</span>  <span class=nx>all</span> <span class=nx>resources</span> <span class=nx>will</span> <span class=nx>be</span> <span class=nx>safely</span> <span class=nx>released</span> <span class=k>if</span> <span class=nx>any</span> <span class=kt>error</span> <span class=nx>occurred</span> <span class=nx>during</span> <span class=nx>opening</span> <span class=nx>one</span> <span class=nx>the</span> <span class=nx>files</span><span class=p>.</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=o>**</span><span class=nx>While</span> <span class=nx>loop</span><span class=o>**</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>In</span> <span class=nx>order</span> <span class=nx>to</span> <span class=nx>show</span> <span class=nx>the</span> <span class=nx>file</span><span class=err>&#39;</span><span class=nx>s</span> <span class=nx>content</span><span class=p>,</span> <span class=nx>I</span> <span class=nx>created</span> <span class=nx>a</span> <span class=nx>buffer</span> <span class=nx>to</span> <span class=nx>keep</span> <span class=nx>the</span> <span class=nx>chunks</span> <span class=nx>that</span> <span class=nx>I</span> <span class=nx>read</span> <span class=nx>and</span> <span class=nx>iterate</span> <span class=nx>over</span> <span class=nx>that</span> <span class=nx>to</span> <span class=nx>show</span> <span class=nx>the</span> <span class=nx>content</span><span class=p>.</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=s>``</span><span class=err>`</span><span class=k>go</span>
</span></span><span class=line><span class=cl>	<span class=kd>var</span> <span class=nx>arrStr</span> <span class=p>[</span><span class=mi>3</span><span class=p>]</span><span class=kt>int</span>
</span></span><span class=line><span class=cl>	<span class=nx>arrStr</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span> <span class=p>=</span> <span class=mi>10</span>
</span></span><span class=line><span class=cl>	<span class=nx>arrStr</span><span class=p>[</span><span class=mi>1</span><span class=p>]</span> <span class=p>=</span> <span class=mi>12</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>	<span class=nx>slicer</span> <span class=o>:=</span> <span class=nx>arrStr</span><span class=p>[</span><span class=mi>1</span><span class=p>:]</span>
</span></span><span class=line><span class=cl>	<span class=nx>slicer</span> <span class=p>=</span> <span class=nb>append</span><span class=p>(</span><span class=nx>slicer</span><span class=p>,</span> <span class=mi>23</span><span class=p>)</span>
</span></span><span class=line><span class=cl>	<span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=nx>slicer</span><span class=p>)</span>
</span></span></code></pre></div><h2 id=bufio-package>&lsquo;bufio&rsquo; package<a href=#bufio-package class=anchor aria-hidden=true><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 7h3a5 5 0 015 5 5 5 0 01-5 5h-3m-6 0H6a5 5 0 01-5-5 5 5 0 015-5h3"/><line x1="8" y1="12" x2="16" y2="12"/></svg></a></h2><p>&lsquo;bufio&rsquo; provides buffering under the hood and makes really when we&rsquo;re working with lots of reads and writes, specially for text files.
&lsquo;NewReader&rsquo; returns a reader whose buffer has default size. For example for reading a file the code looks like below.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-golang data-lang=golang><span class=line><span class=cl>
</span></span><span class=line><span class=cl>	<span class=nx>reader</span> <span class=o>:=</span> <span class=nx>bufio</span><span class=p>.</span><span class=nf>NewReader</span><span class=p>(</span><span class=nx>file</span><span class=p>)</span> <span class=c1>// make a read buffer
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl>	<span class=nx>data</span> <span class=o>:=</span> <span class=nb>make</span><span class=p>([]</span><span class=kt>byte</span><span class=p>,</span> <span class=mi>1024</span><span class=p>)</span>
</span></span><span class=line><span class=cl>	<span class=nx>count</span><span class=p>,</span> <span class=nx>err</span> <span class=o>:=</span> <span class=nx>reader</span><span class=p>.</span><span class=nf>Read</span><span class=p>(</span><span class=nx>data</span><span class=p>)</span> <span class=c1>// read a chunk
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl>	<span class=k>if</span> <span class=nx>err</span> <span class=o>!=</span> <span class=kc>nil</span> <span class=o>&amp;&amp;</span> <span class=nx>err</span> <span class=o>!=</span> <span class=nx>io</span><span class=p>.</span><span class=nx>EOF</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>		<span class=nb>panic</span><span class=p>(</span><span class=nx>fmt</span><span class=p>.</span><span class=nf>Sprintf</span><span class=p>(</span><span class=s>&#34;an error occured in reading the file: {%s}&#34;</span><span class=p>,</span> <span class=s>&#34;data&#34;</span><span class=p>))</span>
</span></span><span class=line><span class=cl>	<span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>	<span class=k>for</span> <span class=nx>i</span> <span class=o>:=</span> <span class=mi>0</span><span class=p>;</span> <span class=nx>i</span> <span class=p>&lt;</span> <span class=nx>count</span><span class=p>;</span> <span class=nx>i</span><span class=o>++</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>		<span class=nx>fmt</span><span class=p>.</span><span class=nf>Print</span><span class=p>(</span><span class=nb>string</span><span class=p>(</span><span class=nx>data</span><span class=p>[</span><span class=nx>i</span><span class=p>]))</span>
</span></span><span class=line><span class=cl>	<span class=p>}</span>
</span></span></code></pre></div><p><strong>Writing to a file</strong></p><p>Three methods Write(p byte[]), WriteByte(c byte), WriteString(s string) are all write some content into the buffer.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-Go data-lang=Go><span class=line><span class=cl>
</span></span><span class=line><span class=cl>	<span class=c1>// open output file
</span></span></span><span class=line><span class=cl><span class=c1></span>	<span class=nx>output</span><span class=p>,</span> <span class=nx>err</span> <span class=o>:=</span> <span class=nx>os</span><span class=p>.</span><span class=nf>Create</span><span class=p>(</span><span class=s>&#34;output.txt&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>	<span class=k>if</span> <span class=nx>err</span> <span class=o>!=</span> <span class=kc>nil</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>		<span class=nb>panic</span><span class=p>(</span><span class=nx>fmt</span><span class=p>.</span><span class=nf>Sprintf</span><span class=p>(</span><span class=s>&#34;an error occured in creating the file: {%s}&#34;</span><span class=p>,</span> <span class=s>&#34;output&#34;</span><span class=p>))</span>
</span></span><span class=line><span class=cl>	<span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>	<span class=k>for</span> <span class=nx>i</span> <span class=o>:=</span> <span class=mi>0</span><span class=p>;</span> <span class=nx>i</span> <span class=p>&lt;</span> <span class=nx>count</span><span class=p>;</span> <span class=nx>i</span><span class=o>++</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>		<span class=nx>n2</span><span class=p>,</span> <span class=nx>err</span> <span class=o>:=</span> <span class=nx>output</span><span class=p>.</span><span class=nf>Write</span><span class=p>(</span><span class=nx>data</span><span class=p>[:</span><span class=nx>i</span><span class=p>])</span>
</span></span><span class=line><span class=cl>		<span class=k>if</span> <span class=nx>err</span> <span class=o>!=</span> <span class=kc>nil</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>			<span class=nb>panic</span><span class=p>(</span><span class=nx>err</span><span class=p>)</span>
</span></span><span class=line><span class=cl>		<span class=p>}</span>
</span></span><span class=line><span class=cl>	<span class=p>}</span>
</span></span></code></pre></div><h2 id=bufio-package-1>&lsquo;bufio&rsquo; package<a href=#bufio-package-1 class=anchor aria-hidden=true><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 7h3a5 5 0 015 5 5 5 0 01-5 5h-3m-6 0H6a5 5 0 01-5-5 5 5 0 015-5h3"/><line x1="8" y1="12" x2="16" y2="12"/></svg></a></h2><p>Likewise reading from file, &lsquo;bufio&rsquo; provides some methods when writing a buffer to a file.</p></div></article><div class="post-nav thin"><a class=next-post href=https://mfahim.github.io/posts/working-as-stream-lead/><span class=post-nav-label><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-arrow-left"><line x1="19" y1="12" x2="5" y2="12"/><polyline points="12 19 5 12 12 5"/></svg>&nbsp;Newer</span><br><span>Working as Stream Lead</span>
</a><a class=prev-post href=https://mfahim.github.io/posts/about-visual-studio-2015/><span class=post-nav-label>Older&nbsp;<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-arrow-right"><line x1="5" y1="12" x2="19" y2="12"/><polyline points="12 5 19 12 12 19"/></svg></span><br><span>About Visual Studio 2015</span></a></div><div id=comments class=thin></div></main><footer id=site-footer class="section-inner thin animated fadeIn faster"><p>&copy; 2025 <a href=https://mfahim.github.io/>Notes to Myself on Software Development</a>
&#183; &#183; <a href=https://creativecommons.org/licenses/by-nc/4.0/ target=_blank rel=noopener></a>&#183; Made with <a href=https://gohugo.io/ target=_blank rel=noopener>Hugo</a>
&#183; Theme <a href=https://github.com/1bl4z3r/hermit-V2 target=_blank rel=noopener>Hermit-V2</a></p></footer><script async src=https://mfahim.github.io/js/bundle.min.c7c384e4d29d192bbac6811ae4660bb01767194a5bea56baca77e8260f93ea16.js integrity="sha256-x8OE5NKdGSu6xoEa5GYLsBdnGUpb6la6ynfoJg+T6hY=" crossorigin=anonymous></script></body></html>